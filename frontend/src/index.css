:root {
  --bg1: #bfe7ff;
  --bg2: #c9f7d0;
  --panel: #f7f7fb;
  --text: #1f2937;
  --dialog: #e9eefb;
  --dialog-border: #243056;
  --hp-green: #35cf54;
  --hp-yellow: #ffd14a;
  --hp-red: #ff5a5a;
}

* { box-sizing: border-box; }
html, body, #root { height: 100%; margin: 0; color: var(--text); font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Arial; }
.container { max-width: 1100px; margin: 0 auto; padding: 16px; }

/* Stage */
.battle-stage { position: relative; aspect-ratio: 16/9; width: 100%; background: linear-gradient(180deg, var(--bg1), var(--bg2)); border-radius: 16px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.15); }
.stage-layer { position: absolute; inset: 0; }
.stage-sky { background: radial-gradient(ellipse at 50% 10%, rgba(255,255,255,0.8), rgba(255,255,255,0) 40%), linear-gradient(180deg, #bfe7ff 0%, #e7faff 45%, #d8f7e0 100%); }
.stage-ground { position: absolute; left: 0; right: 0; bottom: 0; height: 40%; background: repeating-linear-gradient(45deg, #b8e4b8, #b8e4b8 14px, #a3d79f 14px, #a3d79f 28px); box-shadow: inset 0 10px 30px rgba(0,0,0,0.12); border-top: 3px solid rgba(0,0,0,0.08); }
.platform { position: absolute; width: 34%; height: 20%; background: radial-gradient(ellipse at center, rgba(0,0,0,0.25) 0%, rgba(0,0,0,0.12) 35%, rgba(0,0,0,0) 70%); border-radius: 50%; }
.platform.enemy { right: 8%; top: 18%; } .platform.player { left: 8%; bottom: 12%; }

.sprite { width: 160px; image-rendering: pixelated; filter: drop-shadow(0 8px 12px rgba(0,0,0,0.22)); transition: transform .15s ease, filter .15s ease; }
.sprite.enemy { position: absolute; right: 10%; top: 4%; } .sprite.player { position: absolute; left: 10%; bottom: 14%; }
.sprite.hit { transform: translateY(-3px) scale(1.06); }

/* attack / defend */
@keyframes lunge-right { 0%{transform: translateX(0)} 40%{transform: translateX(26px)} 100%{transform: translateX(0)} }
@keyframes lunge-left  { 0%{transform: translateX(0)} 40%{transform: translateX(-26px)} 100%{transform: translateX(0)} }
@keyframes hit-shake   { 0%,100%{transform: translateX(0)} 25%{transform: translateX(-6px)} 50%{transform: translateX(6px)} 75%{transform: translateX(-4px)} }
@keyframes flash       { 0%,100%{filter: none} 50%{filter: brightness(1.6) saturate(1.3)} }
.sprite.attack-right { animation: lunge-right 450ms ease; }
.sprite.attack-left  { animation: lunge-left 450ms ease; }
.sprite.defend-shake { animation: hit-shake 450ms ease, flash 450ms ease; }

/* Info boxes */
.info-box { position: absolute; background: linear-gradient(180deg, #eceff8, #dfe6fb 60%); border: 2px solid var(--dialog-border); border-radius: 12px; padding: 8px 10px; min-width: 280px; box-shadow: 0 6px 14px rgba(12,18,48,0.12); }
.info-top { right: 3%; top: 6%; } .info-bottom { left: 3%; bottom: 32%; }
.info-row { display: flex; align-items: center; justify-content: space-between; gap: 10px; }
.info-name { font-weight: 800; letter-spacing: .3px; display:flex; align-items:center; gap:8px; }
.status-pill { font-size: 11px; font-weight: 900; padding: 2px 6px; border-radius: 999px; border: 2px solid #222; }
.status-burn { background:#ffd1d1; border-color:#b91c1c; color:#7f1d1d; }
.status-para { background:#fff1b5; border-color:#b45309; color:#7c2d12; }
.status-poison { background:#f3d1ff; border-color:#6b21a8; color:#4c1d95; }
.status-sleep { background:#e0f2fe; border-color:#0369a1; color:#075985; }
.status-freeze { background:#e5e7eb; border-color:#111827; color:#111827; }

.item-pill { font-size: 11px; font-weight: 900; padding: 2px 6px; border-radius: 999px; background:#f1f5f9; border:2px solid #1e293b; color:#0f172a; }

.info-lv { font-weight: 700; }
.hpbar { width: 180px; height: 12px; border-radius: 8px; background: #d1d5db; overflow: hidden; box-shadow: inset 0 1px 2px rgba(0,0,0,0.18); }
.hpbar > .fill { height: 100%; transition: width .4s ease; background: linear-gradient(180deg, rgba(255,255,255,0.7), rgba(255,255,255,0) 30%), var(--hp-green); }
.fill.mid { background: linear-gradient(180deg, rgba(255,255,255,0.7), rgba(255,255,255,0) 30%), var(--hp-yellow); }
.fill.low { background: linear-gradient(180deg, rgba(255,255,255,0.7), rgba(255,255,255,0) 30%), var(--hp-red); }

/* UI panels */
.ui-area { margin-top: 12px; display: grid; grid-template-columns: 1.1fr .9fr; gap: 12px; }
.dialog, .command { background: var(--dialog); border: 3px solid var(--dialog-border); border-radius: 14px; padding: 10px 12px; box-shadow: inset 0 2px 0 rgba(255,255,255,0.6); }
.dialog { min-height: 86px; }
.grid { display: grid; gap: 10px; } .grid-2 { grid-template-columns: repeat(2, minmax(0,1fr)); }

/* Buttons */
.btn { cursor: pointer; padding: 10px 12px; border: 0; border-radius: 10px; background: #2c3b78; color: #fff; font-weight: 700; box-shadow: 0 3px 0 #1e2a58; transition: transform .05s ease, filter .15s ease, opacity .15s ease; }
.btn:hover { filter: brightness(1.06); } .btn:active { transform: translateY(1px); }
.btn.secondary { background: #6a2fbf; box-shadow: 0 3px 0 #4b1f8a; }
.btn.ghost { background: #eef2ff; color: #1e2a58; box-shadow: 0 2px 0 #c7d2fe; }
.btn:disabled { opacity: .5; cursor: not-allowed; }

.badge { display: inline-flex; align-items: center; gap: 8px; background: #111827; color: #fff; border-radius: 999px; padding: 6px 10px; font-weight: 800; letter-spacing: .3px; }

/* Move meta hints */
.move-meta { display:flex; gap:6px; align-items:center; justify-content:space-between; font-size:12px; opacity:.85; }
.tag { padding:2px 6px; border-radius:8px; font-weight:800; }
.tag.se  { background:#dcfce7; color:#065f46; } /* super effektiv */
.tag.ne  { background:#fee2e2; color:#991b1b; } /* not very */
.tag.imm { background:#e0e7ff; color:#3730a3; } /* immun */
.tag.acc { background:#f3f4f6; color:#111827; }
.tag.pri { background:#fef9c3; color:#854d0e; }
.tag.lock { background:#e5e7eb; color:#111827; }

/* Party & Log */
.party { display: grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 8px; }
.party-item { background: #eef2ff; border: 2px solid #303b73; border-radius: 10px; padding: 8px; text-align: center; }
.party-name { font-weight: 700; margin-top: 4px; }
.small { font-size: 12px; opacity: .8; }
.log { background: var(--dialog); border: 3px solid var(--dialog-border); border-radius: 14px; padding: 10px 12px; height: 140px; overflow-y: auto; font-family: ui-monospace, Menlo, Consolas, monospace; }

/* End Screen (wie zuvor) */
.overlay { position: fixed; inset: 0; background: rgba(12,18,48,.55); display:flex; align-items:center; justify-content:center; z-index:50; animation: fade-in .2s ease; }
@keyframes fade-in { from{opacity:0} to{opacity:1} }
.modal { width: min(720px, 92vw); background: #f8faff; border: 4px solid #1e2a58; border-radius: 16px; box-shadow: 0 20px 60px rgba(0,0,0,.25); padding: 18px; }
.modal-header { display:flex; align-items:center; justify-content:center; gap:10px; font-weight:900; font-size:22px; letter-spacing:.4px; }
.trophy { width: 30px; height: 30px; border-radius: 999px; background: #ffd54a; display: inline-block; box-shadow: inset 0 2px 0 rgba(255,255,255,.7), 0 3px 0 #caa52a; }
.modal-row { display:grid; grid-template-columns: 1fr 1fr; gap:12px; margin-top:12px; }
.modal-card { background:#eef2ff; border:2px solid #c7d2fe; border-radius:12px; padding:12px; }
.modal-actions { display:flex; gap:8px; justify-content:center; margin-top:14px; }
.stat { display:flex; align-items:center; justify-content:space-between; padding:6px 0; border-bottom:1px dashed #c7d2fe; }
.stat:last-child { border-bottom:0; }
.team-sprites { display:flex; gap:8px; flex-wrap:wrap; justify-content:center; }
.team-sprites img { width:56px; image-rendering: pixelated; filter: drop-shadow(0 6px 10px rgba(0,0,0,.18)); }
